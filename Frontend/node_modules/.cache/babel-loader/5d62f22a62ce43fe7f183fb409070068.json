{"ast":null,"code":"import _slicedToArray from \"D:\\\\DAChuyenNganh\\\\Libraly-System\\\\MERN-libraly-online\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"D:\\\\DAChuyenNganh\\\\Libraly-System\\\\MERN-libraly-online\\\\Frontend\\\\src\\\\components\\\\Authors\\\\addAuthors.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loader from \"../layout/Loader\";\nimport Sidebar from \"../admin/Sidebar\";\nimport { NEW_AUTHOR_RESET } from \"../../redux/actions/actionsTypes\";\nimport { AddAuthors } from \"../../redux/actions/author/authorActions\";\nimport { clearErrors } from \"../../redux/actions/books/bookActions\";\nvar NewAuthor = function NewAuthor() {\n  var history = useNavigate();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    name = _useState2[0],\n    setName = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    year = _useState4[0],\n    setyear = _useState4[1];\n  var dispatch = useDispatch();\n  var _useSelector = useSelector(function (state) {\n      return state.authorcreated;\n    }),\n    error = _useSelector.error,\n    loading = _useSelector.loading,\n    success = _useSelector.success;\n  useEffect(function () {\n    if (error) {\n      alert(error);\n      dispatch(clearErrors());\n    }\n    if (loading) {\n      history(\"/author\");\n      alert(\"Author created successfully\");\n      dispatch({\n        type: NEW_AUTHOR_RESET\n      });\n    }\n  }, [dispatch, alert, error, success, history]);\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n    var formData = new FormData();\n    formData.set(\"name\", name);\n    formData.set(\"year\", year);\n    dispatch(AddAuthors(formData));\n  };\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 3\n    }\n  }, loading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 6\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-2 mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-10 mt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper my-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"shadow-lg\",\n    onSubmit: submitHandler,\n    encType: \"multipart/form-data\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, \"New Author\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name_field\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 12\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"name_field\",\n    className: \"form-control\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 12\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"year_field\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 12\n    }\n  }, \"Year\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    id: \"year_field\",\n    className: \"form-control\",\n    value: year,\n    onChange: function onChange(e) {\n      return setyear(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 12\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"login_button\",\n    type: \"submit\",\n    className: \"btn btn-block py-3\",\n    disabled: loading ? true : false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, \"CREATE\"))))))));\n};\nexport default NewAuthor;","map":{"version":3,"names":["React","Fragment","useState","useEffect","useNavigate","useDispatch","useSelector","Loader","Sidebar","NEW_AUTHOR_RESET","AddAuthors","clearErrors","NewAuthor","history","name","setName","year","setyear","dispatch","state","authorcreated","error","loading","success","alert","type","submitHandler","e","preventDefault","formData","FormData","set","target","value"],"sources":["D:/DAChuyenNganh/Libraly-System/MERN-libraly-online/Frontend/src/components/Authors/addAuthors.js"],"sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../layout/Loader\";\r\nimport Sidebar from \"../admin/Sidebar\";\r\nimport { NEW_AUTHOR_RESET } from \"../../redux/actions/actionsTypes\";\r\nimport { AddAuthors } from \"../../redux/actions/author/authorActions\";\r\nimport { clearErrors } from \"../../redux/actions/books/bookActions\";\r\n\r\n\r\nconst NewAuthor = () => {\r\n    const history = useNavigate();\r\n\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [year, setyear] = useState(\"\");\r\n\t \r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst { error, loading, success } = useSelector((state) => state.authorcreated);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (error) {\r\n\t\t\talert(error);\r\n\t\t\tdispatch(clearErrors());\r\n\t\t}\r\n\r\n\t\tif (loading) {\r\n\t\t\thistory(\"/author\");\r\n\t\t\talert(\"Author created successfully\");\r\n\t\t\tdispatch({ type: NEW_AUTHOR_RESET});\r\n\t\t}\r\n\t}, [dispatch, alert, error, success, history]);\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst formData = new FormData();\r\n\t\tformData.set(\"name\", name);\r\n\t\tformData.set(\"year\", year);\r\n\t\tdispatch(AddAuthors(formData));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className=\"row mt-5\">\r\n\t\t\t\t\t\t<div className=\"col-12 col-md-2 mt-4\">\r\n\t\t\t\t\t\t\t<Sidebar />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col-12 col-md-10 mt-5\">\r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<div className=\"wrapper my-5\">\r\n\t\t\t\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow-lg\"\r\n\t\t\t\t\t\t\t\t\t\tonSubmit={submitHandler}\r\n\t\t\t\t\t\t\t\t\t\tencType=\"multipart/form-data\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"mb-4\">New Author</h1>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"name_field\">Name</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"name_field\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n                                        <div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"year_field\">Year</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"year_field\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={year}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setyear(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"login_button\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-block py-3\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={loading ? true : false}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tCREATE\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nexport default NewAuthor;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}