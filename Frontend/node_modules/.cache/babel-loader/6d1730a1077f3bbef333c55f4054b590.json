{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"D:\\\\DAChuyenNganh\\\\Libraly-System\\\\MERN-libraly-online\\\\Frontend\\\\src\\\\components\\\\admin\\\\OrdersList.js\";\nimport React, { Fragment, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { MDBDataTable } from 'mdbreact';\nimport Sidebar from './Sidebar';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loading from '../Loading/loading';\nimport { allOrders, clearErrors, myOrders, deleteOrder } from '../../redux/actions/order/orderAction';\nimport Loader from '../layout/Loader';\nvar OrdersList = function OrdersList() {\n  // const { id } = useParams();\n  var history = useNavigate();\n\n  //Get the book details and fill it in the form\n  var _useSelector = useSelector(function (state) {\n      return state.myOrders;\n    }),\n    loading = _useSelector.loading,\n    error = _useSelector.error,\n    orders = _useSelector.orders;\n  var dispatch = useDispatch();\n  //\n\n  useEffect(function () {\n    dispatch(myOrders());\n    // dispatch(allOrders());\n\n    if (error) {\n      alert(error);\n      // dispatch(clearErrors());\n    }\n    ;\n  }, [dispatch, alert, error]);\n  var deleteOrderHandler = function deleteOrderHandler(id) {\n    dispatch(deleteOrder(id));\n    history('/orders/list');\n  };\n  var setOrders = function setOrders() {\n    var data = {\n      columns: [{\n        label: \"Order ID\",\n        field: \"id\",\n        sort: \"asc\"\n      }, {\n        label: \"Num of Items\",\n        field: \"numOfItems\",\n        sort: \"asc\"\n      }, {\n        label: \"Amount\",\n        field: \"amount\",\n        sort: \"asc\"\n      }, {\n        label: \"Status\",\n        field: \"status\",\n        sort: \"asc\"\n      }, {\n        label: \"Actions\",\n        field: \"actions\",\n        sort: \"asc\"\n      }],\n      rows: []\n    };\n\n    // orders.forEach((order) => {\n    // \tdata.rows.push({\n    // \t\tid: order._id,\n    // \t\tnumOfItems: order.callCardItems.length,\n    // \t\tamount: `$${order.totalPrice}`,\n    // \t\tstatus:\n    // \t\t\torder.orderStatus &&\n    // \t\t\t\tString(order.orderStatus).includes(\"Delivered\") ? (\n    // \t\t\t\t<p style={{ color: \"green\" }}>{order.orderStatus}</p>\n    // \t\t\t) : (\n    // \t\t\t\t<p style={{ color: \"red\" }}>{order.orderStatus}</p>\n    // \t\t\t),\n    // \t\tactions: (\n    // \t\t\t<Link to={`/order/auth/${order && order._id}`} className=\"btn btn-primary\">\n    // \t\t\t\t<i className=\"fa fa-eye\"></i>\n    // \t\t\t</Link>\n    // \t\t),\n    // \t});\n    // });\n    orders.forEach(function (order) {\n      data.rows.push({\n        id: order._id,\n        numofItems: order.callCardItems.length,\n        amount: \"\".concat(order.totalPrice.toLocaleString('it-IT', {\n          style: 'currency',\n          currency: 'VND'\n        })),\n        status: order.orderStatus && String(order.orderStatus).includes('Delivered') ? /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            color: 'green'\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 8\n          }\n        }, order.orderStatus) : /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            color: 'red'\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 8\n          }\n        }, order.orderStatus),\n        actions: /*#__PURE__*/React.createElement(Fragment, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/order/auth/\".concat(order._id),\n          className: \"btn btn-primary py-1 px-2\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-eye\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 7\n          }\n        })), /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-danger py-1 px-2 ml-2\",\n          onClick: function onClick() {\n            return deleteOrderHandler(order._id);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-trash\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 7\n          }\n        })))\n      });\n    });\n    return data;\n  };\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-2 mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-10 mt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"my-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, \"All Orders\"), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 18\n    }\n  }) : /*#__PURE__*/React.createElement(MDBDataTable, {\n    data: setOrders(),\n    className: \"px-3\",\n    bordered: true,\n    striped: true,\n    hover: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 8\n    }\n  })))));\n};\nexport default OrdersList;","map":{"version":3,"names":["React","Fragment","useEffect","Link","useNavigate","MDBDataTable","Sidebar","useDispatch","useSelector","Loading","allOrders","clearErrors","myOrders","deleteOrder","Loader","OrdersList","history","state","loading","error","orders","dispatch","alert","deleteOrderHandler","id","setOrders","data","columns","label","field","sort","rows","forEach","order","push","_id","numofItems","callCardItems","length","amount","totalPrice","toLocaleString","style","currency","status","orderStatus","String","includes","color","actions"],"sources":["D:/DAChuyenNganh/Libraly-System/MERN-libraly-online/Frontend/src/components/admin/OrdersList.js"],"sourcesContent":["import React, { Fragment, useEffect } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { MDBDataTable } from 'mdbreact'\n\nimport Sidebar from './Sidebar'\n\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport Loading from '../Loading/loading'\nimport { allOrders, clearErrors, myOrders, deleteOrder } from '../../redux/actions/order/orderAction'\nimport Loader from '../layout/Loader'\n\nconst OrdersList = () => {\n\t// const { id } = useParams();\n\tconst history = useNavigate();\n\n\t//Get the book details and fill it in the form\n\tconst { loading, error, orders } = useSelector((state) => state.myOrders);\n\n\tconst dispatch = useDispatch();\n\t//\n\n\tuseEffect(() => {\n\t\tdispatch(myOrders());\n\t\t// dispatch(allOrders());\n\n\n\t\tif (error) {\n\t\t\talert(error);\n\t\t\t// dispatch(clearErrors());\n\t\t};\n\t}, [dispatch, alert, error]);\n\n\tconst deleteOrderHandler = (id) => {\n\t\tdispatch(deleteOrder(id));\n\t\thistory('/orders/list');\n\t}\n\n\n\n\tconst setOrders = () => {\n\t\tconst data = {\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Order ID\",\n\t\t\t\t\tfield: \"id\",\n\t\t\t\t\tsort: \"asc\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Num of Items\",\n\t\t\t\t\tfield: \"numOfItems\",\n\t\t\t\t\tsort: \"asc\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Amount\",\n\t\t\t\t\tfield: \"amount\",\n\t\t\t\t\tsort: \"asc\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Status\",\n\t\t\t\t\tfield: \"status\",\n\t\t\t\t\tsort: \"asc\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Actions\",\n\t\t\t\t\tfield: \"actions\",\n\t\t\t\t\tsort: \"asc\",\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: [],\n\t\t};\n\n\t\t// orders.forEach((order) => {\n\t\t// \tdata.rows.push({\n\t\t// \t\tid: order._id,\n\t\t// \t\tnumOfItems: order.callCardItems.length,\n\t\t// \t\tamount: `$${order.totalPrice}`,\n\t\t// \t\tstatus:\n\t\t// \t\t\torder.orderStatus &&\n\t\t// \t\t\t\tString(order.orderStatus).includes(\"Delivered\") ? (\n\t\t// \t\t\t\t<p style={{ color: \"green\" }}>{order.orderStatus}</p>\n\t\t// \t\t\t) : (\n\t\t// \t\t\t\t<p style={{ color: \"red\" }}>{order.orderStatus}</p>\n\t\t// \t\t\t),\n\t\t// \t\tactions: (\n\t\t// \t\t\t<Link to={`/order/auth/${order && order._id}`} className=\"btn btn-primary\">\n\t\t// \t\t\t\t<i className=\"fa fa-eye\"></i>\n\t\t// \t\t\t</Link>\n\t\t// \t\t),\n\t\t// \t});\n\t\t// });\n\t\torders.forEach(order => {\n\t\t\tdata.rows.push({\n\t\t\t\tid: order._id,\n\t\t\t\tnumofItems: order.callCardItems.length,\n\t\t\t\tamount: `${order.totalPrice.toLocaleString('it-IT', { style: 'currency', currency: 'VND' })}`,\n\t\t\t\tstatus: order.orderStatus && String(order.orderStatus).includes('Delivered')\n\t\t\t\t\t? <p style={{ color: 'green' }}>{order.orderStatus}</p>\n\t\t\t\t\t: <p style={{ color: 'red' }}>{order.orderStatus}</p>,\n\t\t\t\tactions: \n\t\t\t\t<Fragment>\n\t\t\t\t\t<Link to={`/order/auth/${order._id}`} className=\"btn btn-primary py-1 px-2\">\n\t\t\t\t\t\t<i className=\"fa fa-eye\"></i>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<button className=\"btn btn-danger py-1 px-2 ml-2\" onClick={() => deleteOrderHandler(order._id)}>\n\t\t\t\t\t\t<i className=\"fa fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</Fragment>\n\t\t\t})\n\t\t})\n\n\t\treturn data;\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"row mt-5\">\n\t\t\t\t<div className=\"col-12 col-md-2 mt-4\">\n\t\t\t\t\t<Sidebar />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-12 col-md-10 mt-5\">\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<h1 className=\"my-5\">All Orders</h1>\n\n\t\t\t\t\t\t{loading ? <Loader /> : (\n\t\t\t\t\t\t\t<MDBDataTable\n\t\t\t\t\t\t\t\tdata={setOrders()}\n\t\t\t\t\t\t\t\tclassName=\"px-3\"\n\t\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t\t\tstriped\n\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t</Fragment>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</Fragment>\n\t)\n}\n\nexport default OrdersList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}