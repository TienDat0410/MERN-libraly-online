{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"D:\\\\DAChuyenNganh\\\\Libraly-System\\\\Libraly-System\\\\Frontend\\\\src\\\\components\\\\Books\\\\FetchBook.js\";\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { fetchBooks, deleteBook } from '../../redux/actions/books/bookActions';\nimport Loading from '../Loading/loading';\nimport { useNavigate } from \"react-router-dom\";\nimport Moment from 'moment';\n\nvar Books = function Books() {\n  //Fetch books\n  var dispatch = useDispatch();\n  var history = useNavigate();\n  useEffect(function () {\n    dispatch(fetchBooks());\n  }, [dispatch]);\n  var bookslist = useSelector(function (state) {\n    return state.booksList;\n  });\n  var books = bookslist.books,\n      loading = bookslist.loading; // End of fetch books\n  //Delete book handler\n\n  var handlerDeleteBook = function handlerDeleteBook(id) {\n    dispatch(deleteBook(id));\n    alert('Delete Success');\n    history('/books');\n    window.location.replace('/books');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, loading && /*#__PURE__*/React.createElement(Loading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 25\n    }\n  }), books !== undefined && books.length === 0 ? 'No' : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-hover\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 37\n    }\n  }, \"Book Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 37\n    }\n  }, \"publishedDate\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 37\n    }\n  }, \"genres\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 37\n    }\n  }, \"unitPrice\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 37\n    }\n  }, \"Book image\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 37\n    }\n  }, \"Action\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 37\n    }\n  }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }\n  }, books && books.map(function (book) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: book._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 49\n      }\n    }, book.book_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 49\n      }\n    }, Moment(book.publishedDate).calendar()), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 49\n      }\n    }, book.genres), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 49\n      }\n    }, book.unitPrice.toLocaleString('it-IT', {\n      style: 'currency',\n      currency: 'VND'\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      key: book.book_img.public_id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: book.book_img.url,\n      style: {\n        height: '350px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 53\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: function onClick() {\n        return handlerDeleteBook(book._id);\n      },\n      className: \"btn btn-danger\",\n      style: {\n        color: 'white',\n        cursor: 'pointer'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 53\n      }\n    }, \"Delete\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/bookdetail/\".concat(book && book._id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success\",\n      style: {\n        color: 'yellow',\n        cursor: 'pointer'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 57\n      }\n    }, \"Update\"))));\n  }))))));\n};\n\nexport default Books;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","Link","fetchBooks","deleteBook","Loading","useNavigate","Moment","Books","dispatch","history","bookslist","state","booksList","books","loading","handlerDeleteBook","id","alert","window","location","replace","undefined","length","map","book","_id","book_name","publishedDate","calendar","genres","unitPrice","toLocaleString","style","currency","book_img","public_id","url","height","color","cursor"],"sources":["D:/DAChuyenNganh/Libraly-System/Libraly-System/Frontend/src/components/Books/FetchBook.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchBooks, deleteBook } from '../../redux/actions/books/bookActions';\r\nimport Loading from '../Loading/loading';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Moment from 'moment';\r\n\r\nconst Books = () => {\r\n    //Fetch books\r\n    const dispatch = useDispatch();\r\n    const history = useNavigate();\r\n    useEffect(() => {\r\n        dispatch(fetchBooks());\r\n    }, [dispatch]);\r\n    const bookslist = useSelector(state => state.booksList);\r\n    const { books, loading } = bookslist;\r\n    // End of fetch books\r\n    //Delete book handler\r\n    const handlerDeleteBook = id => {\r\n        dispatch(deleteBook(id));\r\n        alert('Delete Success');\r\n        history('/books');\r\n        window.location.replace('/books');\r\n    };\r\n    return (\r\n        <div>\r\n            {loading && <Loading />}\r\n            {books !== undefined && books.length === 0 ? (\r\n                'No'\r\n            ) : (\r\n                <div className='row'>\r\n                    <div className='col'>\r\n                        <table className='table table-hover'>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th scope='col'>Book Name</th>\r\n                                    <th scope='col'>publishedDate</th>\r\n                                    <th scope='col'>genres</th>\r\n                                    {/* <th scope='col'>Author</th> */}\r\n                                    <th scope='col'>unitPrice</th>\r\n                                    <th scope='col'>Book image</th>\r\n                                    <th scope='col'>Action</th>\r\n                                    <th scope='col'>Action</th>\r\n\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {books &&\r\n                                    books.map(book => {\r\n                                        return (\r\n                                            <tr key={book._id}>\r\n                                                <th scope='row'>{book.book_name}</th>\r\n                                                <td>{Moment(book.publishedDate).calendar()}</td>\r\n                                                <td>{book.genres}</td>\r\n                                                {/* <td>{book.author}</td> */}\r\n                                                <td>{book.unitPrice.toLocaleString('it-IT', { style: 'currency', currency: 'VND' })}</td>\r\n                                                <td key={book.book_img.public_id}>\r\n                                                \r\n                                                    <img src={book.book_img.url} style={{ height: '350px' }} />\r\n                                                </td>\r\n                                                <td>\r\n                                                    <button\r\n                                                        type=\"button\"\r\n                                                        onClick={() => handlerDeleteBook(book._id)}\r\n                                                        className=\"btn btn-danger\"\r\n                                                        style={{ color: 'white', cursor: 'pointer' }}>Delete</button>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <Link to={`/bookdetail/${book && book._id}`}>\r\n                                                        <button\r\n                                                            type='button'\r\n                                                            className='btn btn-success'\r\n                                                            style={{\r\n                                                                color: 'yellow',\r\n                                                                cursor: 'pointer',\r\n                                                            }}>Update</button>\r\n                                                    </Link>\r\n                                                </td>\r\n\r\n                                            </tr>\r\n                                        );\r\n                                    })}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Books;"],"mappings":"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"},"metadata":{},"sourceType":"module"}