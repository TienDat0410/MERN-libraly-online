{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"D:\\\\DAChuyenNganh\\\\Libraly-System\\\\MERN-libraly-online\\\\Frontend\\\\src\\\\components\\\\admin\\\\UsersList.js\";\nimport React, { Fragment, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { MDBDataTable } from 'mdbreact';\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { allUsers } from '../../redux/actions/users/userAction';\nimport Sidebar from './Sidebar';\nimport Loader from '../layout/Loader';\nimport { clearErrors } from '../../redux/actions/books/bookActions';\nvar UsersList = function UsersList() {\n  var history = useNavigate();\n  var dispatch = useDispatch();\n  var _useSelector = useSelector(function (state) {\n      return state.allUsers;\n    }),\n    loading = _useSelector.loading,\n    error = _useSelector.error,\n    users = _useSelector.users; // const { isDeleted } = useSelector(state => state.user)\n  useEffect(function () {\n    dispatch(allUsers());\n    if (error) {\n      alert(error);\n      dispatch(clearErrors());\n    }\n\n    // if (isDeleted) {\n    // \talert.success('User deleted successfully');\n    // \thistory('/admin/users');\n    // \tdispatch({ type: DELETE_USER_RESET })\n    // }\n  }, [dispatch, alert, error, history]);\n\n  // const deleteUserHandler = (id) => {\n  // \tdispatch(deleteUser(id))\n  // }\n\n  var setUsers = function setUsers() {\n    var data = {\n      columns: [{\n        label: 'User ID',\n        field: 'id',\n        sort: 'asc'\n      }, {\n        label: 'Name',\n        field: 'username',\n        sort: 'asc'\n      }, {\n        label: 'Email',\n        field: 'email',\n        sort: 'asc'\n      }, {\n        label: 'permission',\n        field: 'permission',\n        sort: 'asc'\n      }, {\n        label: 'Actions',\n        field: 'actions'\n      }],\n      rows: []\n    };\n    users.forEach(function (user) {\n      data.rows.push({\n        id: user._id,\n        username: user.username,\n        email: user.email,\n        permission: user.permission,\n        actions: /*#__PURE__*/React.createElement(Fragment, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 14\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/admin/user/\".concat(user._id),\n          className: \"btn btn-primary py-1 px-2\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-pencil\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 7\n          }\n        }, \"Update\")), /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-danger py-1 px-2 ml-2\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-trash\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 7\n          }\n        })))\n      });\n    });\n    return data;\n  };\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-2 mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-10 mt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"my-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, \"All Users\"), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 18\n    }\n  }) : /*#__PURE__*/React.createElement(MDBDataTable, {\n    data: setUsers(),\n    className: \"px-3\",\n    bordered: true,\n    striped: true,\n    hover: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 8\n    }\n  })))));\n};\nexport default UsersList;","map":{"version":3,"names":["React","Fragment","useEffect","Link","MDBDataTable","useNavigate","useDispatch","useSelector","allUsers","Sidebar","Loader","clearErrors","UsersList","history","dispatch","state","loading","error","users","alert","setUsers","data","columns","label","field","sort","rows","forEach","user","push","id","_id","username","email","permission","actions"],"sources":["D:/DAChuyenNganh/Libraly-System/MERN-libraly-online/Frontend/src/components/admin/UsersList.js"],"sourcesContent":["import React, { Fragment, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { MDBDataTable } from 'mdbreact'\nimport { useNavigate } from 'react-router-dom'\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport { allUsers } from '../../redux/actions/users/userAction'\nimport Sidebar from './Sidebar'\nimport Loader from '../layout/Loader'\nimport { clearErrors } from '../../redux/actions/books/bookActions'\n\n\nconst UsersList = () => {\n\n\tconst history = useNavigate();\n\tconst dispatch = useDispatch();\n\n\tconst { loading, error, users } = useSelector(state => state.allUsers);\n\t// const { isDeleted } = useSelector(state => state.user)\n\n\tuseEffect(() => {\n\t\tdispatch(allUsers());\n\n\t\tif (error) {\n\t\t\talert(error);\n\t\t\tdispatch(clearErrors());\n\t\t}\n\n\t\t// if (isDeleted) {\n\t\t// \talert.success('User deleted successfully');\n\t\t// \thistory('/admin/users');\n\t\t// \tdispatch({ type: DELETE_USER_RESET })\n\t\t// }\n\n\t}, [dispatch, alert, error, history])\n\n\t// const deleteUserHandler = (id) => {\n\t// \tdispatch(deleteUser(id))\n\t// }\n\n\tconst setUsers = () => {\n\t\tconst data = {\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'User ID',\n\t\t\t\t\tfield: 'id',\n\t\t\t\t\tsort: 'asc'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Name',\n\t\t\t\t\tfield: 'username',\n\t\t\t\t\tsort: 'asc'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Email',\n\t\t\t\t\tfield: 'email',\n\t\t\t\t\tsort: 'asc'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'permission',\n\t\t\t\t\tfield: 'permission',\n\t\t\t\t\tsort: 'asc'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Actions',\n\t\t\t\t\tfield: 'actions',\n\t\t\t\t},\n\t\t\t],\n\t\t\trows: []\n\t\t}\n\n\t\tusers.forEach(user => {\n\t\t\tdata.rows.push({\n\t\t\t\tid: user._id,\n\t\t\t\tusername: user.username,\n\t\t\t\temail: user.email,\n\t\t\t\tpermission: user.permission,\n\n\t\t\t\tactions: <Fragment>\n\t\t\t\t\t<Link to={`/admin/user/${user._id}`} className=\"btn btn-primary py-1 px-2\">\n\t\t\t\t\t\t<i className=\"fa fa-pencil\">Update</i>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<button className=\"btn btn-danger py-1 px-2 ml-2\" >\n\t\t\t\t\t\t<i className=\"fa fa-trash\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</Fragment>\n\t\t\t})\n\t\t})\n\n\t\treturn data;\n\t}\n\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"row mt-5\">\n\t\t\t\t<div className=\"col-12 col-md-2 mt-4\">\n\t\t\t\t\t<Sidebar />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-12 col-md-10 mt-5\">\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<h1 className=\"my-5\">All Users</h1>\n\n\t\t\t\t\t\t{loading ? <Loader /> : (\n\t\t\t\t\t\t\t<MDBDataTable\n\t\t\t\t\t\t\t\tdata={setUsers()}\n\t\t\t\t\t\t\t\tclassName=\"px-3\"\n\t\t\t\t\t\t\t\tbordered\n\t\t\t\t\t\t\t\tstriped\n\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Fragment>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</Fragment>\n\t)\n}\n\nexport default UsersList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}