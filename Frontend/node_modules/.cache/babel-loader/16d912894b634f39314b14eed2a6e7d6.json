{"ast":null,"code":"import _objectWithoutProperties from \"D:\\\\DAChuyenNganh\\\\Libraly-System\\\\MERN-libraly-online\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _this = this,\n  _jsxFileName = \"D:\\\\DAChuyenNganh\\\\Libraly-System\\\\MERN-libraly-online\\\\Frontend\\\\src\\\\components\\\\routeAuth\\\\ProtectedRoute.js\";\nimport React, { Fragment } from 'react';\nimport { Route, useNavigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nvar ProtectedRoute = function ProtectedRoute(_ref) {\n  var isAdmin = _ref.isAdmin,\n    Component = _ref.component,\n    rest = _objectWithoutProperties(_ref, [\"isAdmin\", \"component\"]);\n  var _useSelector = useSelector(function (state) {\n      return state.userLogin;\n    }),\n    userInfo = _useSelector.userInfo,\n    loading = _useSelector.loading;\n  var history = useNavigate();\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }\n  }, loading === false && /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: function render(props) {\n      if (userInfo && userInfo.permission !== 'user') {\n        return history('/login');\n      }\n      if (userInfo && userInfo.permission !== 'admin') {\n        return history('/');\n      }\n      return /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 32\n        }\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 17\n    }\n  })));\n};\nexport default ProtectedRoute;","map":{"version":3,"names":["React","Fragment","Route","useNavigate","useSelector","ProtectedRoute","isAdmin","Component","component","rest","state","userLogin","userInfo","loading","history","props","permission"],"sources":["D:/DAChuyenNganh/Libraly-System/MERN-libraly-online/Frontend/src/components/routeAuth/ProtectedRoute.js"],"sourcesContent":["import React, { Fragment } from 'react'\nimport { Route, useNavigate } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nconst ProtectedRoute = ({ isAdmin, component: Component, ...rest }) => {\n\n    const {userInfo, loading } = useSelector(state => state.userLogin)\n    const history = useNavigate();\n\n    return (\n        <Fragment>\n            {loading === false && (\n                <Route\n                    {...rest}\n                    render={props => {\n                        if (userInfo && userInfo.permission !== 'user') {\n                            return history('/login');\n                        }\n\n                        if (userInfo && userInfo.permission !== 'admin') {\n                            return history('/');\n                        }\n\n                        return <Component {...props} />\n                    }}\n                />\n            )}\n        </Fragment>\n    )\n}\n\nexport default ProtectedRoute\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,KAAK,EAAEC,WAAW,QAAQ,kBAAkB;AACrD,SAASC,WAAW,QAAQ,aAAa;AAEzC,IAAMC,cAAc,GAAG,SAAjBA,cAAc,OAAmD;EAAA,IAA7CC,OAAO,QAAPA,OAAO;IAAaC,SAAS,QAApBC,SAAS;IAAgBC,IAAI;EAAA,mBAE/BL,WAAW,CAAC,UAAAM,KAAK;MAAA,OAAIA,KAAK,CAACC,SAAS;IAAA,EAAC;IAA3DC,QAAQ,gBAARA,QAAQ;IAAEC,OAAO,gBAAPA,OAAO;EACxB,IAAMC,OAAO,GAAGX,WAAW,EAAE;EAE7B,oBACI,oBAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACJU,OAAO,KAAK,KAAK,iBACd,oBAAC,KAAK,oBACEJ,IAAI;IACR,MAAM,EAAE,gBAAAM,KAAK,EAAI;MACb,IAAIH,QAAQ,IAAIA,QAAQ,CAACI,UAAU,KAAK,MAAM,EAAE;QAC5C,OAAOF,OAAO,CAAC,QAAQ,CAAC;MAC5B;MAEA,IAAIF,QAAQ,IAAIA,QAAQ,CAACI,UAAU,KAAK,OAAO,EAAE;QAC7C,OAAOF,OAAO,CAAC,GAAG,CAAC;MACvB;MAEA,oBAAO,oBAAC,SAAS,oBAAKC,KAAK;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAAI;IACnC,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAET,CACM;AAEnB,CAAC;AAED,eAAeV,cAAc"},"metadata":{},"sourceType":"module"}