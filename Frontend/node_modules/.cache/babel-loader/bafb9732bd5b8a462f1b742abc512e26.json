{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"D:\\\\DAChuyenNganh\\\\Libraly-System\\\\MERN-libraly-online\\\\Frontend\\\\src\\\\components\\\\order\\\\ListOrders.js\";\nimport React, { useEffect, useState, Fragment } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Loader from \"../layout/Loader\";\nimport { allOrders, clearErrors, myOrders } from '../../redux/actions/order/orderAction';\nimport { Link } from \"react-router-dom\";\nimport { MDBDataTable } from \"mdbreact\";\nvar ListOrders = function ListOrders() {\n  var _useParams = useParams(),\n    id = _useParams.id;\n  var history = useNavigate();\n\n  //Get the book details and fill it in the form\n  // const { loading, error, orders } = useSelector((state) => state.myOrders);\n  var _useSelector = useSelector(function (state) {\n      return state.allOrders;\n    }),\n    loading = _useSelector.loading,\n    error = _useSelector.error,\n    orders = _useSelector.orders;\n  var dispatch = useDispatch();\n  //\n\n  useEffect(function () {\n    dispatch(myOrders());\n    dispatch(allOrders());\n    if (error) {\n      alert(error);\n      // dispatch(clearErrors());\n    }\n    ;\n  }, [dispatch, alert, error]);\n  var setOrders = function setOrders() {\n    var data = {\n      columns: [{\n        label: \"Order ID\",\n        field: \"id\",\n        sort: \"asc\"\n      }, {\n        label: \"Num of Items\",\n        field: \"numOfItems\",\n        sort: \"asc\"\n      }, {\n        label: \"Amount\",\n        field: \"amount\",\n        sort: \"asc\"\n      }, {\n        label: \"Status\",\n        field: \"status\",\n        sort: \"asc\"\n      }, {\n        label: \"Actions\",\n        field: \"actions\",\n        sort: \"asc\"\n      }],\n      rows: []\n    };\n    orders.forEach(function (order) {\n      data.rows.push({\n        id: order._id,\n        numOfItems: order.callCardItems.length,\n        amount: \"\".concat(order.totalPrice.toLocaleString('it-IT', {\n          style: 'currency',\n          currency: 'VND'\n        })),\n        status: order.orderStatus && String(order.orderStatus).includes(\"Delivered\") ? /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            color: \"green\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }\n        }, order.orderStatus) : /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            color: \"red\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }\n        }, order.orderStatus),\n        actions: /*#__PURE__*/React.createElement(Link, {\n          to: \"/order/auth/\".concat(order._id),\n          className: \"btn btn-primary\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-eye\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }\n        }))\n      });\n    });\n    return data;\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"my-5 text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"My Orders\")), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(MDBDataTable, {\n    data: setOrders(),\n    className: \"px-3 \",\n    bordered: true,\n    striped: true,\n    hover: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }));\n};\nexport default ListOrders;","map":{"version":3,"names":["React","useEffect","useState","Fragment","useParams","useNavigate","useDispatch","useSelector","Loader","allOrders","clearErrors","myOrders","Link","MDBDataTable","ListOrders","id","history","state","loading","error","orders","dispatch","alert","setOrders","data","columns","label","field","sort","rows","forEach","order","push","_id","numOfItems","callCardItems","length","amount","totalPrice","toLocaleString","style","currency","status","orderStatus","String","includes","color","actions"],"sources":["D:/DAChuyenNganh/Libraly-System/MERN-libraly-online/Frontend/src/components/order/ListOrders.js"],"sourcesContent":["import React, { useEffect, useState, Fragment } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Loader from \"../layout/Loader\";\r\nimport { allOrders, clearErrors, myOrders } from '../../redux/actions/order/orderAction';\r\nimport { Link } from \"react-router-dom\";\r\nimport { MDBDataTable } from \"mdbreact\";\r\n\r\n\r\n\r\nconst ListOrders = () => {\r\n    const { id } = useParams();\r\n    const history = useNavigate();\r\n\r\n    //Get the book details and fill it in the form\r\n    // const { loading, error, orders } = useSelector((state) => state.myOrders);\r\n    const { loading, error, orders } = useSelector((state) => state.allOrders);\r\n\r\n\r\n    const dispatch = useDispatch();\r\n    //\r\n\r\n    useEffect(() => {\r\n        dispatch(myOrders());\r\n        dispatch(allOrders());\r\n\r\n\r\n        if (error) {\r\n            alert(error);\r\n            // dispatch(clearErrors());\r\n        };\r\n    }, [dispatch, alert, error]);\r\n\r\n\r\n\r\n    const setOrders = () => {\r\n        const data = {\r\n            columns: [\r\n                {\r\n                    label: \"Order ID\",\r\n                    field: \"id\",\r\n                    sort: \"asc\",\r\n                },\r\n                {\r\n                    label: \"Num of Items\",\r\n                    field: \"numOfItems\",\r\n                    sort: \"asc\",\r\n                },\r\n                {\r\n                    label: \"Amount\",\r\n                    field: \"amount\",\r\n                    sort: \"asc\",\r\n                },\r\n                {\r\n                    label: \"Status\",\r\n                    field: \"status\",\r\n                    sort: \"asc\",\r\n                },\r\n                {\r\n                    label: \"Actions\",\r\n                    field: \"actions\",\r\n                    sort: \"asc\",\r\n                },\r\n            ],\r\n            rows: [],\r\n        };\r\n\r\n        orders.forEach((order) => {\r\n            data.rows.push({\r\n                id: order._id,\r\n                numOfItems: order.callCardItems.length,\r\n                amount: `${order.totalPrice.toLocaleString('it-IT', { style: 'currency', currency: 'VND' })}`,\r\n                \r\n                status:\r\n                    order.orderStatus &&\r\n                        String(order.orderStatus).includes(\"Delivered\") ? (\r\n                        <p style={{ color: \"green\" }}>{order.orderStatus}</p>\r\n                    ) : (\r\n                        <p style={{ color: \"red\" }}>{order.orderStatus}</p>\r\n                    ),\r\n                actions: (\r\n                    <Link to={`/order/auth/${order._id}`} className=\"btn btn-primary\">\r\n                        <i className=\"fa fa-eye\"></i>\r\n                    </Link>\r\n                ),\r\n            });\r\n        });\r\n\r\n        return data;\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n\r\n            <h1 className=\"my-5 text-center\">\r\n                <b>My Orders</b>\r\n            </h1>\r\n\r\n            {loading ? (\r\n                <Loader />\r\n            ) : (\r\n                <MDBDataTable\r\n                    data={setOrders()}\r\n                    className=\"px-3 \"\r\n                    bordered\r\n                    striped\r\n                    hover\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ListOrders;"],"mappings":"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"},"metadata":{},"sourceType":"module"}