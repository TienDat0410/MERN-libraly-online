{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"D:\\\\DAChuyenNganh\\\\Libraly-System\\\\MERN-libraly-online\\\\Frontend\\\\src\\\\components\\\\admin\\\\ListBook.js\";\nimport React, { useEffect, Fragment } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { fetchBooks, deleteBook } from '../../redux/actions/books/bookActions';\nimport Loading from '../Loading/loading';\nimport { useNavigate } from \"react-router-dom\";\nimport Moment from 'moment';\nimport Sidebar from '../admin/Sidebar';\nimport { MDBDataTable } from 'mdbreact';\nvar ListBooks = function ListBooks() {\n  //Fetch books\n  var dispatch = useDispatch();\n  var history = useNavigate();\n  useEffect(function () {\n    dispatch(fetchBooks());\n  }, [dispatch]);\n  var bookslist = useSelector(function (state) {\n    return state.booksList;\n  });\n  var books = bookslist.books,\n    loading = bookslist.loading; // End of fetch books\n  //Delete book handler\n  var handlerDeleteBook = function handlerDeleteBook(id) {\n    dispatch(deleteBook(id));\n    alert('Delete Success');\n    history('/books');\n    window.location.replace('/books');\n  };\n  //\n  var setBooks = function setBooks() {\n    var data = {\n      columns: [{\n        label: 'Book ID',\n        field: 'id',\n        sort: 'asc'\n      }, {\n        label: 'Book Name',\n        field: 'name',\n        sort: 'asc'\n      }, {\n        label: 'publishedDate',\n        field: 'date',\n        sort: 'asc'\n      }, {\n        label: 'genres',\n        field: 'genres',\n        sort: 'asc'\n      }, {\n        label: 'unitPrice',\n        field: 'unitPrice',\n        sort: 'asc'\n      }, {\n        label: 'createdAt',\n        field: 'createdAt',\n        sort: 'asc'\n      }, {\n        label: 'Book picture',\n        field: 'Bookpicture',\n        sort: 'asc'\n      }, {\n        label: 'Actions',\n        field: 'actions'\n      }, {\n        label: 'Actions',\n        field: 'actions'\n      }],\n      rows: []\n    };\n    books.forEach(function (book) {\n      data.rows.push({\n        id: book._id,\n        book_name: book.book_name,\n        publishedDate: book.publishedDate,\n        genres: book.genres,\n        unitPrice: book.unitPrice,\n        createdAt: book.createdAt,\n        book_img: book.book_img,\n        actions: /*#__PURE__*/React.createElement(Fragment, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 14\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/bookdetail/\".concat(book && book._id),\n          className: \"btn btn-primary py-1 px-2\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-pencil\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 7\n          }\n        })), /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-danger py-1 px-2 ml-2\",\n          onClick: function onClick() {\n            return handlerDeleteBook(book._id);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-trash\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 7\n          }\n        })))\n      });\n    });\n    return data;\n  };\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-2 mt-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-md-10 mt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"my-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, \"All Books\"), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 32\n    }\n  }) : /*#__PURE__*/React.createElement(MDBDataTable, {\n    data: setBooks(),\n    className: \"px-3\",\n    bordered: true,\n    striped: true,\n    hover: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  })))));\n};\nexport default ListBooks;","map":{"version":3,"names":["React","useEffect","Fragment","useDispatch","useSelector","Link","fetchBooks","deleteBook","Loading","useNavigate","Moment","Sidebar","MDBDataTable","ListBooks","dispatch","history","bookslist","state","booksList","books","loading","handlerDeleteBook","id","alert","window","location","replace","setBooks","data","columns","label","field","sort","rows","forEach","book","push","_id","book_name","publishedDate","genres","unitPrice","createdAt","book_img","actions"],"sources":["D:/DAChuyenNganh/Libraly-System/MERN-libraly-online/Frontend/src/components/admin/ListBook.js"],"sourcesContent":["import React, { useEffect, Fragment } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchBooks, deleteBook } from '../../redux/actions/books/bookActions';\r\nimport Loading from '../Loading/loading';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Moment from 'moment';\r\nimport Sidebar from '../admin/Sidebar';\r\n\r\nimport { MDBDataTable } from 'mdbreact'\r\n\r\nconst ListBooks = () => {\r\n    //Fetch books\r\n    const dispatch = useDispatch();\r\n    const history = useNavigate();\r\n    useEffect(() => {\r\n        dispatch(fetchBooks());\r\n    }, [dispatch]);\r\n    const bookslist = useSelector(state => state.booksList);\r\n    const { books, loading } = bookslist;\r\n    // End of fetch books\r\n    //Delete book handler\r\n    const handlerDeleteBook = id => {\r\n        dispatch(deleteBook(id));\r\n        alert('Delete Success');\r\n        history('/books');\r\n        window.location.replace('/books');\r\n    };\r\n    //\r\n    const setBooks = () => {\r\n\t\tconst data = {\r\n\t\t\tcolumns: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Book ID',\r\n\t\t\t\t\tfield: 'id',\r\n\t\t\t\t\tsort: 'asc'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Book Name',\r\n\t\t\t\t\tfield: 'name',\r\n\t\t\t\t\tsort: 'asc'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'publishedDate',\r\n\t\t\t\t\tfield: 'date',\r\n\t\t\t\t\tsort: 'asc'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'genres',\r\n\t\t\t\t\tfield: 'genres',\r\n\t\t\t\t\tsort: 'asc'\r\n\t\t\t\t},\r\n                {\r\n\t\t\t\t\tlabel: 'unitPrice',\r\n\t\t\t\t\tfield: 'unitPrice',\r\n\t\t\t\t\tsort: 'asc'\r\n\t\t\t\t},\r\n                {\r\n\t\t\t\t\tlabel: 'createdAt',\r\n\t\t\t\t\tfield: 'createdAt',\r\n\t\t\t\t\tsort: 'asc'\r\n\t\t\t\t},\r\n                {\r\n\t\t\t\t\tlabel: 'Book picture',\r\n\t\t\t\t\tfield: 'Bookpicture',\r\n\t\t\t\t\tsort: 'asc'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: 'Actions',\r\n\t\t\t\t\tfield: 'actions',\r\n\t\t\t\t},\r\n                {\r\n\t\t\t\t\tlabel: 'Actions',\r\n\t\t\t\t\tfield: 'actions',\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\trows: []\r\n\t\t}\r\n\r\n\t\tbooks.forEach(book => {\r\n\t\t\tdata.rows.push({\r\n\t\t\t\tid: book._id,\r\n\t\t\t\tbook_name: book.book_name,\r\n\t\t\t\tpublishedDate: book.publishedDate,\r\n\t\t\t\tgenres: book.genres,\r\n\t\t\t\tunitPrice: book.unitPrice,\r\n\t\t\t\tcreatedAt: book.createdAt,\r\n                book_img: book.book_img,\r\n\t\t\t\tactions: <Fragment>\r\n\t\t\t\t\t<Link to={`/bookdetail/${book && book._id}`} className=\"btn btn-primary py-1 px-2\">\r\n\t\t\t\t\t\t<i className=\"fa fa-pencil\"></i>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<button className=\"btn btn-danger py-1 px-2 ml-2\" onClick={() => handlerDeleteBook(book._id)}>\r\n\t\t\t\t\t\t<i className=\"fa fa-trash\"></i>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Fragment>\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\treturn data;\r\n\t}\r\n    return (\r\n        <Fragment>\r\n\r\n        <div className=\"row mt-5\">\r\n            <div className=\"col-12 col-md-2 mt-4\">\r\n                <Sidebar />\r\n            </div>\r\n\r\n            <div className=\"col-12 col-md-10 mt-5\">\r\n                <Fragment>\r\n                    <h1 className=\"my-5\">All Books</h1>\r\n\r\n                    {loading ? <Loader /> : (\r\n                        <MDBDataTable\r\n                            data={setBooks()}\r\n                            className=\"px-3\"\r\n                            bordered\r\n                            striped\r\n                            hover\r\n                        />\r\n                    )}\r\n\r\n                </Fragment>\r\n            </div>\r\n        </div>\r\n\r\n    </Fragment>\r\n\r\n    );\r\n};\r\n\r\nexport default ListBooks;"],"mappings":"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"},"metadata":{},"sourceType":"module"}