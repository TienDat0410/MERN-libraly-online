{"ast":null,"code":"var _jsxFileName = \"D:\\\\DAChuyenNganh\\\\Libraly-System\\\\Libraly-System\\\\Frontend\\\\src\\\\components\\\\Login\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loginUserAction } from '../../redux/actions/users/userAction';\nimport { useNavigate } from \"react-router-dom\";\nimport ErrorMessage from '../Message/ErrorMessage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginUser = () => {\n  _s();\n  // const [username, setname] = useState('');\n  const [email, setemail] = useState('');\n  const [password, setpassword] = useState('');\n\n  //dispatch\n  const dispatch = useDispatch();\n  const history = useNavigate();\n\n  //lấy dữ liệu người dùng từ store\n  const state = useSelector(state => {\n    return state.userLogin;\n  });\n  const {\n    loading,\n    userInfo,\n    error\n  } = state;\n\n  //submit\n  const formSubmitHandler = e => {\n    e.preventDefault();\n    console.log(email, password);\n    dispatch(loginUserAction(email, password));\n    // console.log(userInfo.token)\n    // console.log(userInfo, loading, error);\n    // if (userInfo !== null && error === undefined) history('/');\n  };\n\n  //Redirect\n  useEffect(() => {\n    if (userInfo) history('/');\n  }, [state]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row container-height\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-6 col-md-6 m-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [loading && /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Loading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 33\n          }, this), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-center\",\n            children: \"Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: formSubmitHandler,\n            children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"exampleInputEmail1\",\n                  children: \"Email address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: email,\n                  onChange: e => setemail(e.target.value),\n                  type: \"email\",\n                  className: \"form-control\",\n                  id: \"exampleInputEmail1\",\n                  \"aria-describedby\": \"emailHelp\",\n                  placeholder: \"Enter email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"exampleInputPassword1\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: password,\n                  onChange: e => setpassword(e.target.value),\n                  type: \"password\",\n                  className: \"form-control\",\n                  id: \"exampleInputPassword1\",\n                  placeholder: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: \"Log In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginUser, \"tP4z0lRXJ6ZdF+jOey8TYvQLHhw=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n_c = LoginUser;\nexport default LoginUser;\nvar _c;\n$RefreshReg$(_c, \"LoginUser\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","loginUserAction","useNavigate","ErrorMessage","LoginUser","email","setemail","password","setpassword","dispatch","history","state","userLogin","loading","userInfo","error","formSubmitHandler","e","preventDefault","console","log","target","value"],"sources":["D:/DAChuyenNganh/Libraly-System/Libraly-System/Frontend/src/components/Login/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loginUserAction } from '../../redux/actions/users/userAction';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ErrorMessage from '../Message/ErrorMessage';\r\n\r\n\r\nconst LoginUser = () => {\r\n\r\n    // const [username, setname] = useState('');\r\n    const [email, setemail] = useState('');\r\n    const [password, setpassword] = useState('');\r\n\r\n    //dispatch\r\n    const dispatch = useDispatch();\r\n    const history = useNavigate();\r\n\r\n    //lấy dữ liệu người dùng từ store\r\n    const state = useSelector(state => {\r\n        return state.userLogin;\r\n    });\r\n\r\n    const { loading, userInfo, error } = state;\r\n\r\n    //submit\r\n    const formSubmitHandler = e => {\r\n        e.preventDefault();\r\n        console.log(email, password);\r\n        dispatch(loginUserAction(email, password));\r\n        // console.log(userInfo.token)\r\n        // console.log(userInfo, loading, error);\r\n        // if (userInfo !== null && error === undefined) history('/');\r\n    };\r\n\r\n\r\n    //Redirect\r\n    useEffect(() => {\r\n        if (userInfo) history('/');\r\n    }, [state]);\r\n\r\n    return (\r\n        <div className='Container'>\r\n        <div className='row container-height'>\r\n            <div className='col-lg-6 col-md-6 m-auto'>\r\n                <div className='container'>\r\n                    {loading && <h1>Loading</h1>}\r\n                    {error && <ErrorMessage>{error}</ErrorMessage>}\r\n                    {/* {error && <h1>Something went wrong</h1>} */}\r\n                    <h1 className='text-center'>Log In</h1>\r\n\r\n                    <form onSubmit={formSubmitHandler}>\r\n                        <fieldset>\r\n                            <div className='form-group'>\r\n                                <label htmlFor='exampleInputEmail1'>Email address</label>\r\n                                <input\r\n                                    value={email}\r\n                                    onChange={e => setemail(e.target.value)}\r\n                                    type='email'\r\n                                    className='form-control'\r\n                                    id='exampleInputEmail1'\r\n                                    aria-describedby='emailHelp'\r\n                                    placeholder='Enter email'\r\n                                />\r\n                            </div>\r\n                            <div className='form-group'>\r\n                                <label htmlFor='exampleInputPassword1'>Password</label>\r\n                                <input\r\n                                    value={password}\r\n                                    onChange={e => setpassword(e.target.value)}\r\n                                    type='password'\r\n                                    className='form-control'\r\n                                    id='exampleInputPassword1'\r\n                                    placeholder='Password'\r\n                                />\r\n                            </div>\r\n                            <button type='submit' className='btn btn-primary'>\r\n                                Log In\r\n                            </button>\r\n                        </fieldset>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default LoginUser;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,eAAe,QAAQ,sCAAsC;AACtE,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,YAAY,MAAM,yBAAyB;AAAC;AAGnD,MAAMC,SAAS,GAAG,MAAM;EAAA;EAEpB;EACA,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;;EAE5C;EACA,MAAMY,QAAQ,GAAGV,WAAW,EAAE;EAC9B,MAAMW,OAAO,GAAGR,WAAW,EAAE;;EAE7B;EACA,MAAMS,KAAK,GAAGX,WAAW,CAACW,KAAK,IAAI;IAC/B,OAAOA,KAAK,CAACC,SAAS;EAC1B,CAAC,CAAC;EAEF,MAAM;IAAEC,OAAO;IAAEC,QAAQ;IAAEC;EAAM,CAAC,GAAGJ,KAAK;;EAE1C;EACA,MAAMK,iBAAiB,GAAGC,CAAC,IAAI;IAC3BA,CAAC,CAACC,cAAc,EAAE;IAClBC,OAAO,CAACC,GAAG,CAACf,KAAK,EAAEE,QAAQ,CAAC;IAC5BE,QAAQ,CAACR,eAAe,CAACI,KAAK,EAAEE,QAAQ,CAAC,CAAC;IAC1C;IACA;IACA;EACJ,CAAC;;EAGD;EACAT,SAAS,CAAC,MAAM;IACZ,IAAIgB,QAAQ,EAAEJ,OAAO,CAAC,GAAG,CAAC;EAC9B,CAAC,EAAE,CAACC,KAAK,CAAC,CAAC;EAEX,oBACI;IAAK,SAAS,EAAC,WAAW;IAAA,uBAC1B;MAAK,SAAS,EAAC,sBAAsB;MAAA,uBACjC;QAAK,SAAS,EAAC,0BAA0B;QAAA,uBACrC;UAAK,SAAS,EAAC,WAAW;UAAA,WACrBE,OAAO,iBAAI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAgB,EAC3BE,KAAK,iBAAI,QAAC,YAAY;YAAA,UAAEA;UAAK;YAAA;YAAA;YAAA;UAAA,QAAgB,eAE9C;YAAI,SAAS,EAAC,aAAa;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAAY,eAEvC;YAAM,QAAQ,EAAEC,iBAAkB;YAAA,uBAC9B;cAAA,wBACI;gBAAK,SAAS,EAAC,YAAY;gBAAA,wBACvB;kBAAO,OAAO,EAAC,oBAAoB;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAAsB,eACzD;kBACI,KAAK,EAAEX,KAAM;kBACb,QAAQ,EAAEY,CAAC,IAAIX,QAAQ,CAACW,CAAC,CAACI,MAAM,CAACC,KAAK,CAAE;kBACxC,IAAI,EAAC,OAAO;kBACZ,SAAS,EAAC,cAAc;kBACxB,EAAE,EAAC,oBAAoB;kBACvB,oBAAiB,WAAW;kBAC5B,WAAW,EAAC;gBAAa;kBAAA;kBAAA;kBAAA;gBAAA,QAC3B;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QACA,eACN;gBAAK,SAAS,EAAC,YAAY;gBAAA,wBACvB;kBAAO,OAAO,EAAC,uBAAuB;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAAiB,eACvD;kBACI,KAAK,EAAEf,QAAS;kBAChB,QAAQ,EAAEU,CAAC,IAAIT,WAAW,CAACS,CAAC,CAACI,MAAM,CAACC,KAAK,CAAE;kBAC3C,IAAI,EAAC,UAAU;kBACf,SAAS,EAAC,cAAc;kBACxB,EAAE,EAAC,uBAAuB;kBAC1B,WAAW,EAAC;gBAAU;kBAAA;kBAAA;kBAAA;gBAAA,QACxB;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QACA,eACN;gBAAQ,IAAI,EAAC,QAAQ;gBAAC,SAAS,EAAC,iBAAiB;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAExC;YAAA;cAAA;cAAA;cAAA;YAAA;UACF;YAAA;YAAA;YAAA;UAAA,QACR;QAAA;UAAA;UAAA;UAAA;QAAA;MACL;QAAA;QAAA;QAAA;MAAA;IACJ;MAAA;MAAA;MAAA;IAAA;EACJ;IAAA;IAAA;IAAA;EAAA,QACA;AAGd,CAAC;AAAC,GA/EIlB,SAAS;EAAA,QAOML,WAAW,EACZG,WAAW,EAGbF,WAAW;AAAA;AAAA,KAXvBI,SAAS;AAiFf,eAAeA,SAAS;AAAC;AAAA"},"metadata":{},"sourceType":"module"}